[gd_scene load_steps=42 format=3 uid="uid://c0i5g18h7ijcj"]

[ext_resource type="Script" path="res://levels/map.gd" id="1_vlrby"]
[ext_resource type="Texture2D" uid="uid://64lal6k8dwh0" path="res://assets/maps/3Deep Water/Deep Water L5.png" id="2_a2iqq"]
[ext_resource type="Texture2D" uid="uid://k5edyhgk56kc" path="res://assets/maps/3Deep Water/Deep Water L4.png" id="3_qnuns"]
[ext_resource type="Texture2D" uid="uid://dn0yae6bcw1pt" path="res://assets/maps/3Deep Water/Deep Water L3.png" id="4_veul7"]
[ext_resource type="Texture2D" uid="uid://dtfsq5ligax8f" path="res://assets/maps/3Deep Water/Deep Water L2.png" id="5_a31bm"]
[ext_resource type="Script" path="res://levels/components/state_flag_constraint.gd" id="5_xk1uw"]
[ext_resource type="PackedScene" uid="uid://cpwrjxm5n2l7w" path="res://levels/components/triggers/composite/composite_trigger.tscn" id="6_mqacy"]
[ext_resource type="Texture2D" uid="uid://2hoywc34wre4" path="res://assets/maps/3Deep Water/Deep Water L1.png" id="6_vleag"]
[ext_resource type="Script" path="res://levels/level_state_hook.gd" id="8_qysf0"]
[ext_resource type="Script" path="res://levels/components/interaction-object/value_effect.gd" id="10_mr8ra"]
[ext_resource type="PackedScene" uid="uid://dvuetv06ga8vf" path="res://levels/components/triggers/on-interact/trigger_on_interact.tscn" id="11_8kbdk"]
[ext_resource type="Script" path="res://levels/components/state_value_constraint.gd" id="11_agju2"]
[ext_resource type="Script" path="res://levels/props/bob.gd" id="11_by6d2"]
[ext_resource type="PackedScene" uid="uid://hbk5evvrhfs7" path="res://levels/components/interaction-object/physics_area_interaction_object.tscn" id="11_i0q5o"]
[ext_resource type="PackedScene" uid="uid://bowmh363flr4f" path="res://levels/components/transforms/transform_toggle_io.tscn" id="12_t3i3k"]
[ext_resource type="PackedScene" uid="uid://cptnlsqj27q70" path="res://levels/components/triggers/on-state/trigger_on_state.tscn" id="14_baket"]
[ext_resource type="PackedScene" uid="uid://ctwycvyvof6xy" path="res://levels/props/fish.tscn" id="14_pptoa"]
[ext_resource type="PackedScene" uid="uid://fsh7ruhfyn1h" path="res://levels/components/transforms/transform_fade_prop.tscn" id="15_qutwo"]
[ext_resource type="PackedScene" uid="uid://c6elxd4jnggji" path="res://levels/props/bait.tscn" id="16_40nim"]
[ext_resource type="Script" path="res://levels/components/interaction-object/flag_effect.gd" id="18_squj7"]
[ext_resource type="PackedScene" uid="uid://dhnuyqp4c752v" path="res://levels/props/arrow_right.tscn" id="19_3lkv2"]
[ext_resource type="PackedScene" uid="uid://cdo0vs8v01f00" path="res://levels/components/player-avatar/sura_avatar.tscn" id="19_4i3cf"]
[ext_resource type="PackedScene" uid="uid://3lrjnca8n1jg" path="res://levels/hint_provider.tscn" id="23_bc58n"]

[sub_resource type="Resource" id="Resource_6xmi1"]
script = ExtResource("11_agju2")
value = 4
type = 0
name = "food"

[sub_resource type="Resource" id="Resource_k6uxd"]
script = ExtResource("5_xk1uw")
name = "big_fish_eaten"

[sub_resource type="Resource" id="Resource_640mr"]
script = ExtResource("10_mr8ra")
name = "food"
effect = 1

[sub_resource type="Resource" id="Resource_qknib"]
script = ExtResource("10_mr8ra")
name = "bait"
effect = 1

[sub_resource type="Resource" id="Resource_8uft5"]
script = ExtResource("10_mr8ra")
name = "bait"
effect = -1

[sub_resource type="Resource" id="Resource_dku6f"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_jsqge"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_ekari"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_nj263"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_skvg8"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_belw0"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_cvv7m"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_vpetj"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_5mwca"]
script = ExtResource("11_agju2")
value = 1
type = 0
name = "bait"

[sub_resource type="Resource" id="Resource_qonkk"]
script = ExtResource("10_mr8ra")
name = "food"
effect = 2

[sub_resource type="Resource" id="Resource_wqaw0"]
script = ExtResource("18_squj7")
name = "big_fish_eaten"
action = 0

[sub_resource type="Resource" id="Resource_xxmgy"]
script = ExtResource("10_mr8ra")
name = "food"
effect = 1

[sub_resource type="NavigationPolygon" id="NavigationPolygon_sf56k"]
vertices = PackedVector2Array(131, 724, 13, 753, 17, 376, 157, 342, 439, 614, 303, 692, 281, 357, 368, 370, 415, 362, 580, 365, 624, 624, 653, 25, 1903, 18, 1907, 833, 1353, 999, 652, 134, 624, 259, 1242, 1018, 1045, 863, 925, 825, 783, 717, 655, 669)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 0, 3, 6, 7), PackedInt32Array(4, 7, 8, 9, 10), PackedInt32Array(11, 12, 13, 14, 15), PackedInt32Array(16, 15, 14, 17, 18), PackedInt32Array(16, 18, 19, 20, 9), PackedInt32Array(10, 9, 20, 21)])
outlines = Array[PackedVector2Array]([PackedVector2Array(624, 259, 580, 365, 415, 362, 368, 370, 281, 357, 157, 342, 17, 376, 13, 753, 131, 724, 303, 692, 439, 614, 624, 624, 655, 669, 783, 717, 925, 825, 1045, 863, 1242, 1018, 1353, 999, 1907, 833, 1903, 18, 653, 25, 652, 134)])

[node name="DeepWater" type="Node2D" node_paths=PackedStringArray("player_avatar", "state_hook")]
script = ExtResource("1_vlrby")
player_avatar = NodePath("Sura")
state_hook = NodePath("LevelStateHook")

[node name="TriggerOnInteractIO1" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO1")

[node name="TriggerOnInteractIO2" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO2")

[node name="TriggerOnInteractIO3" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO3")

[node name="TriggerOnInteractIO4" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO4")

[node name="TriggerOnInteractIO5" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO5")

[node name="TriggerOnInteractIO6" parent="." node_paths=PackedStringArray("io") instance=ExtResource("11_8kbdk")]
io = NodePath("../IO6")

[node name="TriggerOnFood4" parent="." instance=ExtResource("14_baket")]
values = Array[ExtResource("11_agju2")]([SubResource("Resource_6xmi1")])
metadata/_edit_lock_ = true

[node name="TriggerOnBigFish" parent="." instance=ExtResource("14_baket")]
flags = Array[ExtResource("5_xk1uw")]([SubResource("Resource_k6uxd")])

[node name="Food4AndBigFish" parent="." instance=ExtResource("6_mqacy")]
triggers = Array[NodePath]([NodePath("../TriggerOnFood4"), NodePath("../TriggerOnBigFish")])
oneshot = true

[node name="TransformToggleIO2" parent="." node_paths=PackedStringArray("target_io", "trigger") instance=ExtResource("12_t3i3k")]
target_io = NodePath("../IO2")
trigger = NodePath("../TriggerOnInteractIO1")
metadata/_edit_lock_ = true

[node name="TransformToggleIO3" parent="." node_paths=PackedStringArray("target_io", "trigger") instance=ExtResource("12_t3i3k")]
target_io = NodePath("../IO3")
trigger = NodePath("../TriggerOnInteractIO1")
metadata/_edit_lock_ = true

[node name="TransformToggleIO4" parent="." node_paths=PackedStringArray("target_io", "trigger") instance=ExtResource("12_t3i3k")]
target_io = NodePath("../IO4")
trigger = NodePath("../TriggerOnInteractIO3")
delay_seconds = 1.0
metadata/_edit_lock_ = true

[node name="TransformToggleIO6" parent="." node_paths=PackedStringArray("target_io", "trigger") instance=ExtResource("12_t3i3k")]
target_io = NodePath("../IO6")
trigger = NodePath("../Food4AndBigFish")

[node name="TransformFadeProp" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../Arrow")
fade = 0
trigger = NodePath("../Food4AndBigFish")

[node name="StaticBackground" type="Node2D" parent="."]
z_index = -50
z_as_relative = false

[node name="SeaFloorL5" type="Sprite2D" parent="StaticBackground"]
texture = ExtResource("2_a2iqq")
centered = false

[node name="SeaFloorL4" type="Sprite2D" parent="StaticBackground" node_paths=PackedStringArray("sprite")]
position = Vector2(0, 5)
texture = ExtResource("3_qnuns")
centered = false
script = ExtResource("11_by6d2")
sprite = NodePath(".")
max_offset = 5.0
time_offset = 1.0

[node name="SeaFloorL3" type="Sprite2D" parent="StaticBackground" node_paths=PackedStringArray("sprite")]
position = Vector2(0, 5)
texture = ExtResource("4_veul7")
centered = false
script = ExtResource("11_by6d2")
sprite = NodePath(".")
max_offset = 5.0
time_offset = 1.0

[node name="SeaFloorL2" type="Sprite2D" parent="StaticBackground" node_paths=PackedStringArray("sprite")]
position = Vector2(0, 5)
texture = ExtResource("5_a31bm")
centered = false
script = ExtResource("11_by6d2")
sprite = NodePath(".")
max_offset = 5.0

[node name="StaticForeground" type="Sprite2D" parent="."]
texture = ExtResource("6_vleag")
centered = false

[node name="IO1" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(212, 708)
radius = 106
metadata/_edit_lock_ = true

[node name="IO2" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(344, 607)
radius = 44
value_effects = Array[ExtResource("10_mr8ra")]([SubResource("Resource_640mr"), SubResource("Resource_qknib")])
enabled = false
metadata/_edit_lock_ = true

[node name="FishIO2" parent="." instance=ExtResource("14_pptoa")]
position = Vector2(346, 605)
opacity = 0.0
metadata/_edit_lock_ = true

[node name="FadeInFishIO2" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../FishIO2")
fade = 0
trigger = NodePath("../TriggerOnInteractIO1")
metadata/_edit_lock_ = true

[node name="FadeOutFishIO2" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../FishIO2")
trigger = NodePath("../TriggerOnInteractIO2")
metadata/_edit_lock_ = true

[node name="IO3" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(470, 481)
radius = 134
value_effects = Array[ExtResource("10_mr8ra")]([SubResource("Resource_8uft5")])
value_constraints = Array[ExtResource("11_agju2")]([SubResource("Resource_dku6f"), SubResource("Resource_jsqge"), SubResource("Resource_ekari"), SubResource("Resource_nj263"), SubResource("Resource_skvg8"), SubResource("Resource_belw0"), SubResource("Resource_cvv7m"), SubResource("Resource_vpetj"), SubResource("Resource_5mwca")])
enabled = false
metadata/_edit_lock_ = true

[node name="BaitIO3" parent="." instance=ExtResource("16_40nim")]
position = Vector2(456, 472)
opacity = 0.0
metadata/_edit_lock_ = true

[node name="FadeInBaitIO3" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../BaitIO3")
fade = 0
trigger = NodePath("../TriggerOnInteractIO3")

[node name="IO4" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(176, 479)
radius = 124
value_effects = Array[ExtResource("10_mr8ra")]([SubResource("Resource_qonkk")])
flag_effects = Array[ExtResource("18_squj7")]([SubResource("Resource_wqaw0")])
enabled = false
metadata/_edit_lock_ = true

[node name="FishIO4" parent="." instance=ExtResource("14_pptoa")]
position = Vector2(177, 479)
rotation = -0.282743
scale = Vector2(3.295, 3.295)
flip = true
opacity = 0.0
metadata/_edit_lock_ = true

[node name="FadeInFishIO4" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../FishIO4")
fade = 0
trigger = NodePath("../TriggerOnInteractIO3")
delay_seconds = 1.0
metadata/_edit_lock_ = true

[node name="FadeInFishIO5" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../FishIO4")
trigger = NodePath("../TriggerOnInteractIO4")
metadata/_edit_lock_ = true

[node name="IO5" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(1658, 191)
radius = 46
value_effects = Array[ExtResource("10_mr8ra")]([SubResource("Resource_xxmgy")])
metadata/_edit_lock_ = true

[node name="FishIO5" parent="." instance=ExtResource("14_pptoa")]
position = Vector2(1658, 191)
metadata/_edit_lock_ = true

[node name="FadeOutFishIO5" parent="." node_paths=PackedStringArray("target", "trigger") instance=ExtResource("15_qutwo")]
target = NodePath("../FishIO5")
trigger = NodePath("../TriggerOnInteractIO5")
metadata/_edit_lock_ = true

[node name="IO6" parent="." instance=ExtResource("11_i0q5o")]
position = Vector2(1757, 759)
radius = 90
transition_to = "ShallowWater"
enabled = false
oneshot = false
metadata/_edit_lock_ = true

[node name="LevelStateHook" type="Node" parent="."]
script = ExtResource("8_qysf0")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_sf56k")

[node name="Sura" parent="." instance=ExtResource("19_4i3cf")]
position = Vector2(1813, 449)

[node name="Arrow" parent="." instance=ExtResource("19_3lkv2")]
z_as_relative = false
position = Vector2(1758, 789)
opacity = 0.0

[node name="HintProvider" parent="." instance=ExtResource("23_bc58n")]
